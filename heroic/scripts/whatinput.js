(function(a,b){typeof define==="function"&&define.amd?define([],function(){return b()}):typeof exports==="object"?module.exports=b():a.whatInput=b()})(this,function(){function a(a){f||b(a)}function b(a){var c=a.keyCode?a.keyCode:a.which,b=a.target||a.srcElement,f=i[a.type];f==="pointer"&&(f=typeof a.pointerType==="number"?o[a.pointerType]:a.pointerType);if(l!==f&&(k||!l||!(f==="keyboard"&&m[c]!=="tab"&&h.indexOf(b.nodeName.toLowerCase())>=0)))l=f,g.setAttribute("data-whatinput",l),j.indexOf(l)===
-1&&j.push(l);f==="keyboard"&&d.indexOf(m[c])===-1&&m[c]&&d.push(m[c])}function c(a){a=d.indexOf(m[a.keyCode?a.keyCode:a.which]);a!==-1&&d.splice(a,1)}var d=[],g=document.body,f=!1,l=null,h=["input","select","textarea"],k=g.hasAttribute("data-whatinput-formtyping"),i={keydown:"keyboard",mousedown:"mouse",mouseenter:"mouse",touchstart:"touch",pointerdown:"pointer",MSPointerDown:"pointer"},j=[],m={9:"tab",13:"enter",16:"shift",27:"esc",32:"space",37:"left",38:"up",39:"right",40:"down"},o={2:"touch",
3:"touch",4:"mouse"};(function(){var b="mousedown";window.PointerEvent?b="pointerdown":window.MSPointerEvent&&(b="MSPointerDown");g.addEventListener(b,a);g.addEventListener("mouseenter",a);g.addEventListener("keydown",a);g.addEventListener("keyup",c)})();return{ask:function(){return l},keys:function(){return d},types:function(){return j},set:b}});
